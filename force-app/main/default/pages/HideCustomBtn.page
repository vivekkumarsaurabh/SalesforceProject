<apex:page standardController="Account" extensions="CustomListViewController" standardStylesheets="true" tabStyle="Account">
<!--- <apex:includeScript value="{!$Resource.MyJavaScriptFile}"/>-->
   
    <apex:slds />
    <apex:form >
    <apex:actionFunction name="validateUserProfile" action="{!validate}" oncomplete="handleResponse('{!result}')" rerender="form"/>
    <apex:actionFunction name="backPage" action="{!backtoPage}" rerender="form"/>
    <apex:actionFunction name="res" action="handleResponse('{!result}')" rerender="form"/>

     <script type='text/javascript'>
         window.onload = function() {             
            validateUserProfile();
        };
        
        function handleResponse(result) {
            if (result === 'false') {
                showToast();
                backPage();
            }
        }  
       
         function showToast() {
            sforce.one.showToast({
                "title": "Attenzione",
                "message": "You are not a perfect user for this profile",
                "type": "warning"
            });
           }

    </script>
        
        <apex:pageMessages />
        <apex:pageBlock title="Account Information">
         <apex:pageBlockSection columns="1">
                <apex:inputField value="{!Account.Name}" required="true"/>
                <apex:inputField value="{!Account.Type}"/>
                <apex:inputField value="{!Account.Industry}"/>
            </apex:pageBlockSection>
            <apex:pageBlockButtons >
                <apex:commandButton action="{!saveAccount}" value="Save"/>
            </apex:pageBlockButtons>

        </apex:pageBlock>


       
    </apex:form>
    
    
</apex:page>